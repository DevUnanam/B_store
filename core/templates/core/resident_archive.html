{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
  <h2>Resident Archive (Deactivated Accounts)</h2>
  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }}">{{ message }}</div>
    {% endfor %}
  {% endif %}
  <p class="text-muted">Below are the residents who have been deactivated.</p>
  <table class="table table-bordered table-striped mt-3">
    <thead>
      <tr>
        <th>Name</th>
        <th>Apartment</th>
        <th>Contact</th>
        <th>Deactivated At</th>
      </tr>
    </thead>
    <tbody>
      {% for resident in archived_residents %}
      <tr>
        <td>{{ resident.name }}</td>
        <td>{{ resident.apartment_number }}</td>
        <td>{{ resident.contact }}</td>
        <td>{{ resident.deactivated_at|date:"M d, Y H:i" }}</td>
        <td>
          <a href="{% url 'reactivate_resident' resident.id %}" class="btn btn-sm btn-success">Reactivate</a>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="4" class="text-center">No archived residents found.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
